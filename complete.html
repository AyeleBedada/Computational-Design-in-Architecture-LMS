<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Course Complete</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body class="app-page" oncontextmenu="return false;">
  <div id="app-root"></div>

  <section class="content">
    <h2>Congratulations â€” Course Complete</h2>
    <p id="complete-message">Well done!</p>
    <div class="certificate-controls">
      <label>Your name <input id="certName" type="text" /></label>
      <label>Your score (%) <input id="certScore" type="number" min="0" max="100" /></label>
      <button id="printCert">Generate & Print Certificate (PDF)</button>
    </div>
    <div id="certPreview"></div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const btn = document.getElementById('printCert');
      btn.addEventListener('click', () => {
        const nm = document.getElementById('certName').value || 'Student';
        const sc = document.getElementById('certScore').value || '0';
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF({ orientation: 'landscape' });
        doc.setFontSize(22);
        doc.text('Certificate of Completion', 105, 30, { align: 'center' });
        doc.setFontSize(14);
        doc.text(`This certifies that ${nm}`, 105, 60, { align: 'center' });
        doc.text(`has completed the course 'Computational Design in Architecture'`, 105, 75, { align: 'center' });
        doc.text(`with a final score of ${sc}%`, 105, 95, { align: 'center' });
        doc.setFontSize(10);
        doc.text(`Date: ${new Date().toLocaleDateString()}`, 20, 140);
        doc.save(`${nm.replace(/\s+/g,'_')}_certificate.pdf`);
      });
    });
  </script>
</body>
</html>
